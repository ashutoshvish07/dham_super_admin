import{a as b,v as A,r as i,u as M,w as l,j as t,B as c,S as _,F as y,P,x as H}from"./index-nP3sWgOM.js";import"./index.esm-B2q6Cw9c.js";import{G as T}from"./GetToAction-p5I7uB52.js";import{A as B}from"./Dialog-D7RuuEns.js";import"./SearchBar-BByW93zJ.js";import{l as E}from"./lodash-CeyOGm4C.js";import{h as I}from"./moment-G82_0lEo.js";import{D as k}from"./DataTable-BAyMAVN6.js";import{B as w}from"./Button-DYMAArme.js";import"./InputLabel-DaDe49tm.js";import"./TextField-Btu36Zmo.js";import"./MenuItem-vSBr2iRT.js";import"./index-CcBqUUtn.js";import"./DialogContent-CAWl_w7U.js";import"./Autocomplete-Cb93hnIo.js";import"./Close-CYbAYMXT.js";import"./Checkbox-CVXqhyuK.js";import"./Skeleton-DY2pMhD5.js";import"./colorManipulator-BTVsESXO.js";import"./useThemeProps-Cp5GSgP0.js";const ne=()=>{const o=b(),n=A(),[p,g]=i.useState(""),[m,R]=i.useState(""),[u,Y]=i.useState(null),[r,f]=i.useState({open:!1,onClose:()=>f({...r,open:!1})}),[h,d]=i.useState({page:0,pageSize:10}),{hotels:s,loading:x,error:F}=M(e=>e.hotel);i.useEffect(()=>{o(l({page:1,page_size:10}))},[o]);const S=()=>{n("/hotel/hotels/create")},C=e=>{n(`/hotel/hotels/edit/${e}`)},z=e=>{o(H({id:e})).then(()=>{o(l({page:1,page_size:10}))})},j=[{field:"hotelName",headerName:"Code"},{field:"name",headerName:"Hotel name",flex:2},{field:"cityId",headerName:"City ",flex:1,renderCell:e=>{var a;return(a=e==null?void 0:e.value)==null?void 0:a.name}},{field:"stateId",headerName:"State ",flex:1,renderCell:e=>{var a;return(a=e==null?void 0:e.value)==null?void 0:a.name}},{field:"address",headerName:"Address",flex:2},{field:"email",headerName:"Email",flex:1},{field:"mobile",headerName:"Mobile",flex:1},{field:"status",headerName:"Status",flex:1},{field:"createdAt",headerName:"Added Date",flex:1,renderCell:e=>I(e.value).format("DD/MM/YYYY")},{field:"_id",headerName:"Action",flex:1,renderCell:e=>T(e.value,C,z)}],v=e=>{e.pageSize==h.pageSize?(o(l({page:e.page+1,page_size:e.pageSize})),d(e)):(o(l({page:e.page,page_size:e.pageSize})),d({page:1,pageSize:e.pageSize}))},N=i.useCallback(E.debounce(e=>{o(l({page:1,page_size:10,search:e}))},1e3),[]),D=e=>{const a=e.target.value;g(a),N(a)};return t.jsxs(t.Fragment,{children:[t.jsx(B,{title:m,content:u,dialogProps:r}),t.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2},children:[t.jsx(c,{children:t.jsx(_,{value:p,handleSearchChange:D})}),t.jsx(w,{sx:{borderRadius:2},variant:"outlined",color:"secondary",size:"large",onClick:S,startIcon:t.jsx(y,{size:14}),children:"Hotles"})]}),t.jsx(P,{children:t.jsx(k,{data:s==null?void 0:s.hotels,columns:j,getRowId:e=>e._id?e._id:e.id,loading:x,initialState:{pagination:{paginationModel:{pageSize:10}}},rowCount:s==null?void 0:s.count,paginationMode:"server",onPaginationModelChange:v,pageSizeOptions:[10],disableRowSelectionOnClick:!0})})]})};export{ne as default};
