import{a as D,v as P,u as A,r as o,O as n,j as t,B as c,S as G,F as y,P as _,Q as w}from"./index-nP3sWgOM.js";import"./index.esm-B2q6Cw9c.js";import{G as M}from"./GetToAction-p5I7uB52.js";import{A as T}from"./Dialog-D7RuuEns.js";import{l as B}from"./lodash-CeyOGm4C.js";import{h as E}from"./moment-G82_0lEo.js";import{D as R}from"./DataTable-BAyMAVN6.js";import{B as k}from"./Button-DYMAArme.js";import"./InputLabel-DaDe49tm.js";import"./TextField-Btu36Zmo.js";import"./MenuItem-vSBr2iRT.js";import"./index-CcBqUUtn.js";import"./DialogContent-CAWl_w7U.js";import"./Autocomplete-Cb93hnIo.js";import"./Close-CYbAYMXT.js";import"./Checkbox-CVXqhyuK.js";import"./Skeleton-DY2pMhD5.js";import"./colorManipulator-BTVsESXO.js";import"./useThemeProps-Cp5GSgP0.js";const re=()=>{const i=D(),d=P(),{guids:s,loading:g}=A(e=>e.guid),[u,I]=o.useState(""),[m,Y]=o.useState(null),[f,h]=o.useState(""),[l,x]=o.useState({open:!1,onClose:()=>x({...l,open:!1})}),[r,p]=o.useState({page:0,pageSize:10});o.useEffect(()=>{i(n({page:1,page_size:10}))},[i]);const S=()=>{d("/guid/create-guid")},z=e=>{d(`/guid/update-guid/${e}`)},C=e=>{i(w({id:e})).then(()=>{i(n({page:1,page_size:10}))})},v=o.useCallback(B.debounce(e=>{i(n({page:r.page+1,page_size:r==null?void 0:r.pageSize,search:e}))},1e3),[]),N=e=>{const a=e.target.value;h(a),v(a)},j=[{field:"name",headerName:"Name",flex:1},{field:"cityId",headerName:"City ",flex:1,renderCell:e=>{var a;return(a=e==null?void 0:e.value)==null?void 0:a.name}},{field:"address",headerName:"Address",flex:2},{field:"about",headerName:"About",flex:2},{field:"email",headerName:"Email",flex:1},{field:"mobile",headerName:"Mobile",flex:1},{field:"pricePerHour",headerName:"Price Per Hour",flex:1},{field:"status",headerName:"Status",flex:1},{field:"languages",headerName:"Languages",flex:2,renderCell:e=>e.value.map((a,O)=>{if(a!=null&&a.isKnow)return(a==null?void 0:a.name)+", "})},{field:"createdAt",headerName:"Added Date",flex:1,renderCell:e=>E(e.value).format("DD/MM/YYYY")},{field:"_id",headerName:"Action",flex:1,renderCell:e=>M(e.value,z,C)}],b=e=>{e.pageSize==r.pageSize?(i(n({page:e.page+1,page_size:e.pageSize})),p(e)):(i(n({page:e.page,page_size:e.pageSize})),p({page:1,pageSize:e.pageSize}))};return t.jsxs("div",{children:[t.jsx(T,{title:u,content:m,dialogProps:l}),t.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2},children:[t.jsx(c,{children:t.jsx(G,{value:f,handleSearchChange:N})}),t.jsx(k,{sx:{borderRadius:2},variant:"outlined",color:"secondary",size:"large",onClick:S,startIcon:t.jsx(y,{size:14}),children:"Guid"})]}),t.jsx(_,{children:t.jsx(R,{data:s==null?void 0:s.guids,columns:j,getRowId:e=>e._id,loading:g,initialState:{pagination:{paginationModel:{pageSize:10}}},rowCount:s==null?void 0:s.count,paginationMode:"server",onPaginationModelChange:b,pageSizeOptions:[10],disableRowSelectionOnClick:!0})})]})};export{re as default};
